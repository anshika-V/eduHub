(this["webpackJsonpcreate-test"]=this["webpackJsonpcreate-test"]||[]).push([[0],{11:function(e,t,a){e.exports={topBar:"Top_topBar__1M36g",navLink:"Top_navLink__31pSM",edu:"Top_edu__3lhuD",navCont:"Top_navCont__2D-Nz"}},13:function(e,t,a){e.exports={dot1:"SocketStatus_dot1__2gVtp",dot1Anim:"SocketStatus_dot1Anim__2GG5M",dot2:"SocketStatus_dot2__2ZiMM",dot2Anim:"SocketStatus_dot2Anim__2b30V",dot3:"SocketStatus_dot3__2aMyN",dot3Anim:"SocketStatus_dot3Anim__3SIAx",status:"SocketStatus_status__LHVNz"}},171:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(27),i=a.n(r),o=(a(73),a(11)),c=a.n(o);var l=function(e){return s.a.createElement("div",{className:"ml-4 pl-4",id:c.a.navCont},s.a.createElement("a",{href:"/",className:[c.a.navLink,"ml-4 mr-4"].join(" ")},"Home"),s.a.createElement("a",{href:"#",className:[c.a.navLink,"ml-4 mr-4"].join(" "),style:{opacity:"30%"}},"Blog"),s.a.createElement("a",{href:"#",className:[c.a.navLink,"ml-4 mr-4"].join(" "),style:{opacity:"30%"}},"Contact"))},u=a(67),m=a(4),d=a.n(m),p=a(1);var f=Object(p.b)((function(e){return{profile:e.Profile}}))((function(e){var t=Object(n.useState)("none"),a=Object(u.a)(t,2),r=a[0],i=a[1];return s.a.createElement("div",{className:"ml-2",id:d.a.userBtnCont},s.a.createElement("button",{className:"p-0",id:d.a.userBtn,onClick:function(e){return i("block"===r?"none":"block")},onBlur:function(e){return setTimeout(i,10,"none")}},s.a.createElement("img",{src:void 0!==e.profile.name?window.media_url+e.profile.fields.profile_pic:"",id:d.a.userBtnImg,alt:""})),s.a.createElement("div",{onClick:function(e){return setTimeout(i,20,"block")},id:d.a.userPannel,className:"p-2 pr-3 bg-white",style:{display:r}},void 0!==e.profile.name?s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:d.a.userData},e.profile.username),s.a.createElement("span",{className:[d.a.userData,"text-secondary"].join(" ")},e.profile.email)):"",s.a.createElement("hr",{className:"m-0 mt-1"}),s.a.createElement("a",{href:"#",className:[d.a.navLink,d.a.userPannelLink,"pb-0 mt-2 mb-1 mr-2 ml-1"].join(" "),style:{opacity:"30%"}},"Profile"),s.a.createElement("a",{href:window.base+"/user/logout/",className:[d.a.navLink,d.a.userPannelLink,"pb-0 mb-0 mr-2 ml-1"].join(" ")},"Logout")))})),h=a(63),b=a.n(h);var _=function(e){return s.a.createElement("div",{className:"ml-auto mr-4",style:{opacity:"30%"}},s.a.createElement("button",{className:"material-icons  btn",id:b.a.notifBtn},"notifications"))},v=a(13),E=a.n(v);Object(p.b)((function(e){return{socketStatus:e.SocketState.status}}))((function(e){var t="default";switch(console.log("status",e.socketStatus),e.socketStatus){case"connecting":case"saving":case"reconnecting":t=s.a.createElement("h6",{className:"text-muted mb-0 pb-0",id:E.a.status},e.socketStatus,s.a.createElement("span",{id:E.a.dot1},"."),s.a.createElement("span",{id:E.a.dot2},"."),s.a.createElement("span",{id:E.a.dot3},"."));break;case"saved":t=s.a.createElement("h6",{className:"text-muted",id:E.a.status},"All previous changes saved");break;case"connected":t=s.a.createElement("h6",{className:"text-muted",id:E.a.status},"Connected")}return s.a.createElement("div",{className:"ml-4 pb-0 mt-4"},t)}));var k=Object(p.b)(null,(function(e){return{updateProfile:function(t){return e(function(e){return{type:"updateProfile",payload:e}}(t))}}}))((function(e){return Object(n.useEffect)((function(){fetch(window.base+"/user/api/profile/",{credentials:window.cred}).then((function(e){return e.json()})).then((function(t){return e.updateProfile(t)}))}),[e]),s.a.createElement("div",{id:c.a.topBar,className:"d-flex flex-row align-items-center col-12 pl-2  text-light"},s.a.createElement("h1",{className:"display-3 ml-2 text-dark",id:c.a.edu,onClick:function(){return window.location.assign("/")}},s.a.createElement("span",null,"eduHub")),s.a.createElement(l,null),s.a.createElement(_,null),s.a.createElement(f,null))})),y=a(5),g=a(6),N=a(8),w=a(7),j=a(42),q=a.n(j),x=a(29),O=a.n(x),C=a(2),S=a.n(C),B=a(19),T=a(20),M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"updateProfile":e=Object(T.a)({},t.payload)}return e},A=a(66),L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{active:-1,fields:{questions:[],fer_data:[]}},t=arguments.length>1?arguments[1]:void 0;switch(e=Object(T.a)({},e),t.type){case"updateTestData":e=Object(T.a)({},t.payload),console.log("state:-----",e);break;case"updateActive":e.active=t.payload;break;case"updateMarks":e.fields.questions[e.active].marks=t.payload;break;case"updateRemarks":e.fields.questions[e.active].remarks=t.payload,e.fields.questions=Object(A.a)(e.fields.questions)}return e},D=Object(B.c)(Object(B.b)({Profile:M,Test:L}),{});a(78);var Q=function(e){Object(N.a)(a,e);var t=Object(w.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:["p-0 d-flex w-100",S.a.choicesCont].join(" ")},s.a.createElement("div",{className:["p-0 d-flex w-100 align-items-baseline",S.a.choicesCont].join(" ")},s.a.createElement("div",{className:"form-check mt-4 ml-4 pl-4"},s.a.createElement("input",{className:"form-check-input",type:"radio",checked:1==this.props.question.answer[0],readOnly:!0}),s.a.createElement("label",{className:["form-check-label",S.a.choicesLabel].join(" ")},void 0!==this.props.choices[0]?this.props.choices[0]:""))),s.a.createElement("div",{className:["p-0 d-flex w-100 align-items-baseline",S.a.choicesCont].join(" ")},s.a.createElement("div",{className:"form-check mt-4 ml-4 pl-4"},s.a.createElement("input",{className:"form-check-input",type:"radio",checked:1==this.props.question.answer[1],readOnly:!0}),s.a.createElement("label",{className:["form-check-label",S.a.choicesLabel].join(" ")},void 0!==this.props.choices[1]?this.props.choices[1]:"")))),s.a.createElement("div",{className:["p-0 d-flex w-100",S.a.choicesCont].join(" ")},s.a.createElement("div",{className:["p-0 d-flex w-100 align-items-baseline",S.a.choicesCont].join(" ")},s.a.createElement("div",{className:"form-check mt-4 ml-4 pl-4"},s.a.createElement("input",{className:"form-check-input",type:"radio",checked:1==this.props.question.answer[2],readOnly:!0}),s.a.createElement("label",{className:["form-check-label",S.a.choicesLabel].join(" ")},void 0!==this.props.choices[2]?this.props.choices[2]:""))),s.a.createElement("div",{className:["p-0 d-flex w-100 align-items-baseline",S.a.choicesCont].join(" ")},s.a.createElement("div",{className:"form-check mt-4 ml-4 pl-4"},s.a.createElement("input",{className:"form-check-input",type:"radio",checked:1==this.props.question.answer[3],readOnly:!0}),s.a.createElement("label",{className:["form-check-label",S.a.choicesLabel].join(" ")},void 0!==this.props.choices[0]?this.props.choices[3]:"")))))}}]),a}(n.Component),P=Object(p.b)((function(e){return{active:e.Test.active,choices:""!==e.Test.fields.questions[e.Test.active].fields.jsonChoices?JSON.parse(e.Test.fields.questions[e.Test.active].fields.jsonChoices):[],question:e.Test.fields.questions[e.Test.active]}}))(Q);var I=Object(p.b)((function(e){return{active:e.Test.active,question:-1!==e.Test.active?e.Test.fields.questions[e.Test.active]:{fields:{}}}}))((function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{className:["m-2 ml-4 pl-4 w-50"].join(" "),alt:"not found",style:{display:""===e.question.fields.image?"none":"inline-block"},src:""===e.question.fields.image?"#":window.media_url+e.question.fields.image}))})),F=function(e){Object(N.a)(a,e);var t=Object(w.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).check=function(){var t="";return"D"!==e.props.question.fields.type&&(t=e.props.question.marks===e.props.question.fields.marks?s.a.createElement("h6",{className:"text-success ml-4 mt-4 pl-1"},"Correct"):0!==e.props.question.marks?s.a.createElement("h6",{className:"text-warning ml-4 mt-4 pl-1"},"Partially Correct"):s.a.createElement("h6",{className:"text-danger ml-4 mt-4 pl-1"},"Wrong")),t},e}return Object(g.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{id:S.a.questionMain,className:"p-1 m-1 flex-grow-1 bg-light pb-4"},-1==this.props.active?s.a.createElement("h1",{className:"text-center text-muted mt-4"},"Select question for the side pannel"):s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"d-flex flex-row align-items-top"},s.a.createElement("h2",{className:["d-inline mr-0 mr-2",S.a.qno].join(" ")},"Q.",this.props.active+1),s.a.createElement("h4",{className:["mt-3 mr-0 pr-0 ml-1",S.a.qinfo].join(" ")},this.props.question.fields.text),s.a.createElement("div",{className:[S.a.rightpannel,"ml-auto mr-3 mt-2"].join(" ")},s.a.createElement("h6",null,this.props.question.fields.marks),s.a.createElement("h6",null,this.props.question.fields.type))),s.a.createElement(I,null),s.a.createElement("br",null),"F"!==this.props.question.fields.type&&"D"!==this.props.question.fields.type?s.a.createElement(P,{type:this.props.question.fields.type,submitted:this.props.submitted}):"D"!==this.props.question.fields.type?s.a.createElement(s.a.Fragment,null,s.a.createElement("label",{className:"ml-4 pl-4 mt-4"},"Answer:"),s.a.createElement("input",{className:["ml-4 pl-4 form-control w-50",S.a.ansInp].join(" "),style:{display:"inline"},type:"text",name:"answer",value:this.props.question.answer,readOnly:!0})):s.a.createElement("div",{className:"d-flex align-items-strech flex-column pr-4 mr-4 ml-4"},s.a.createElement("label",{className:"mt-4"},"Answer:"),s.a.createElement("textarea",{className:["pl-4 form-control"].join(" "),style:{display:"inline"},type:"text",name:"answer",rows:"8",value:this.props.question.answer,onChange:function(t){return e.props.updateAnswer(t.target.value)},readOnly:!0}),s.a.createElement("label",{className:"mt-4"},"Remarks:"),s.a.createElement("textarea",{className:["pl-4 form-control"].join(" "),rows:"2",value:this.props.question.remarks?this.props.question.remarks:"",onChange:function(t){return e.props.updateRemarks(t.target.value)}}),s.a.createElement("label",{className:"mt-4"},"Marks:"),s.a.createElement("input",{className:["pl-4 form-control w-25",S.a.ansInp].join(" "),type:"number",name:"marks",max:this.props.question.fields.marks,min:0,value:this.props.question.marks,onChange:function(t){return e.props.updaeMarks(Math.min(Math.max(0,t.target.value),e.props.question.fields.marks))}})),this.check()))}}]),a}(n.Component),U=Object(p.b)((function(e){return{active:e.Test.active,question:-1!==e.Test.active?e.Test.fields.questions[e.Test.active]:{fields:{}},test:e.Test}}),(function(e){return{updaeMarks:function(t){return e({type:"updateMarks",payload:t})},updateRemarks:function(t){return e({type:"updateRemarks",payload:t})}}}))(F),R=a(43),H=a.n(R),J=function(e){Object(N.a)(a,e);var t=Object(w.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){var e,t=this;return e=this.props.questions.map((function(e,a){e.state.join("");var n="";return n=e.marks==e.fields.marks?"btn-success":0===e.marks?"btn-danger":"btn-warning",a===t.props.active&&(n="btn-primary"),s.a.createElement("button",{className:["btn m-2",H.a.btns,n].join(" "),key:a,onClick:function(){return t.props.updateActive(a)},active:a===t.props.active},a+1)})),s.a.createElement("div",{id:H.a.qBtnsCont},e)}}]),a}(n.Component),z=Object(p.b)((function(e){return{active:e.Test.active,questions:e.Test.fields.questions}}),(function(e){return{updateActive:function(t){return e(function(e){return{type:"updateActive",payload:e}}(t))}}}))(J),Z=function(e){Object(N.a)(a,e);var t=Object(w.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(g.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:O.a.sidebarMain,className:"p-1 bg-secondary"},s.a.createElement("h1",{className:"display-4 bg-info text-light pl-2",id:O.a.sideHead},"Questions",s.a.createElement("button",{id:O.a.addBtn,className:"btn btn-dark",onClick:function(){return e.props.enter(1)}},"result")),s.a.createElement(z,null)),s.a.createElement(U,null))}}]),a}(n.Component),W=a(64),V=a.n(W),X=a(44);var G=Object(p.b)((function(e){return{questions:e.Test.fields.questions,fer_data:e.Test.fields.fer_data}}))((function(e){var t=0,a=0;e.questions.forEach((function(e){t+=e.fields.marks,a+=e.marks}));var n=[0,0,0,0,0,0,0];e.fer_data.forEach((function(e){n=n.map((function(t,a){return t+e.emotions[a]}))}));var r={labels:["angry","disgust","fear","happy","sad","surprise","neutral"],datasets:[{label:"Average Emotions",data:n=n.map((function(t){return t/e.fer_data.length})),backgroundColor:["red","green","black","yellow","blue","brown","gray"]}]},i={labels:e.fer_data.map((function(e,t){return t})),datasets:[{data:e.fer_data.map((function(e){return 100*e.emotions[0]})),label:"Angry",borderColor:"red"},{data:e.fer_data.map((function(e){return 100*e.emotions[1]})),label:"Disgust",borderColor:"green"},{data:e.fer_data.map((function(e){return 100*e.emotions[2]})),label:"Fear",borderColor:"black"},{data:e.fer_data.map((function(e){return 100*e.emotions[3]})),label:"Happy",borderColor:"yellow"},{data:e.fer_data.map((function(e){return 100*e.emotions[4]})),label:"Sad",borderColor:"blue"},{data:e.fer_data.map((function(e){return 100*e.emotions[5]})),label:"Surprise",borderColor:"brown"}]};return s.a.createElement("div",{id:V.a.entry,className:"p-4 bg-light m-4"},s.a.createElement("h1",{className:"display-3 text-center"},"Results"),s.a.createElement("h1",{className:"display-2 text-center"},a,"/",t),s.a.createElement("button",{className:"btn btn-primary d-block m-auto",onClick:function(){return e.enter(2)}},"check answers"),0!=e.fer_data.length?s.a.createElement(s.a.Fragment,null,s.a.createElement("h2",{className:"ml-2 mt-2"},"Report"),s.a.createElement("hr",{className:"m-0 p-0"}),s.a.createElement("h5",{className:"ml-3 mt-3"},"Expression Recognizer:"),s.a.createElement("div",{style:{width:"90%",height:"60%"}},s.a.createElement(X.a,{data:r,options:{maintainAspectRatio:!1}})),s.a.createElement("div",{style:{width:"100%",height:"100%"},className:"mt-4"},s.a.createElement(X.b,{data:i,options:{maintainAspectRatio:!1}}))):"")})),Y=function(){var e=window.location.href,t=e.length,a=e.lastIndexOf("/");return a===t-1&&(a=(e=e.slice(0,-1)).lastIndexOf("/")),e.substring(a+1)},K=function(e){Object(N.a)(a,e);var t=Object(w.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={enter:1},e.fetchData=function(t){fetch(window.base+"/material/api/test/responseData/"+t+"/",{credentials:window.cred}).then((function(e){return e.json()})).then((function(t){return e.props.updateTestData(t)})).catch((function(e){return alert("Error fetching data: possible reasons unauthorised access aur connection issue ")}))},e.componentDidMount=function(){var t=Y();e.fetchData(t)},e.enter=function(t){e.setState({enter:t})},e.save=function(t){var a=e.props.questions;a=JSON.stringify(a);var n=new FormData;n.append("data",a),fetch(window.base+"/material/api/test/responseData/checkSave/"+e.props.res.pk+"/",{method:"POST",credentials:window.cred,body:n})},e.screen=function(){var t;switch(e.state.enter){case 1:t=s.a.createElement(G,{enter:e.enter});break;case 2:t=s.a.createElement(Z,{enter:e.enter,submitted:1})}return t},e}return Object(g.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{id:q.a.main,className:"p-1 d-flex pt-2"},this.screen(),s.a.createElement("button",{id:q.a.save,className:"form-control btn btn-secondary",onClick:this.save},"Save"))}}]),a}(n.Component),$=Object(p.b)((function(e){return{questions:e.Test.fields.questions,res:e.Test}}),(function(e){return{updateTestData:function(t){return e(function(e){(e=e[0]).fields.questions=JSON.parse(e.fields.questions);var t=e.fields.questions.map((function(e){return e}));return e.fields.questions=Object.assign([],t),e.active=-1,e.fields.fer_data=JSON.parse(e.fields.fer_data),console.log(e),{type:"updateTestData",payload:e}}(t))}}}))(K);var ee=function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(k,null)," ",s.a.createElement($,null))};window.base="",window.media_url="https://eduhub.blob.core.windows.net/eduhub/",window.cred="same-origin",i.a.render(s.a.createElement(p.a,{store:D},s.a.createElement(ee,null)),document.getElementById("root"))},2:function(e,t,a){e.exports={questionMain:"Question_questionMain__1_rxd",qno:"Question_qno__WrjZj",qtext:"Question_qtext__Z1Mmf",qinfo:"Question_qinfo__qsAMT",rightpannel:"Question_rightpannel__2UY0F",marksinp:"Question_marksinp__2Uhvn",choicesCont:"Question_choicesCont__wBpp9",choices:"Question_choices__lz6pm",choicesLabel:"Question_choicesLabel__1Ls73",ansInp:"Question_ansInp__egB3m",desc:"Question_desc__2_tAt"}},29:function(e,t,a){e.exports={sidebarMain:"Sidebar_sidebarMain__3xpJL",sideHead:"Sidebar_sideHead__3_rEt",addBtn:"Sidebar_addBtn__17vBb"}},4:function(e,t,a){e.exports={navLink:"UserBtn_navLink__3C6qU",userBtn:"UserBtn_userBtn__2502Q",userBtnImg:"UserBtn_userBtnImg__1XDNf",userPannel:"UserBtn_userPannel__SYTvw",userPannelLink:"UserBtn_userPannelLink__squgZ",userData:"UserBtn_userData__ZFyrl",userBtnCont:"UserBtn_userBtnCont__1BfAU"}},42:function(e,t,a){e.exports={main:"Main_main__1oWsp",fullScreen:"Main_fullScreen__2WUCL",timer:"Main_timer__2qXw5",save:"Main_save__1nhdc"}},43:function(e,t,a){e.exports={qBtnsCont:"QuestionsBtns_qBtnsCont__r19tx",btns:"QuestionsBtns_btns__3JyHc"}},63:function(e,t,a){e.exports={notifBtn:"Notification_notifBtn__U2Qxp"}},64:function(e,t,a){e.exports={entry:"Initial_entry__-bfNu",desc:"Initial_desc__iz51X",details:"Initial_details__2dAez"}},68:function(e,t,a){e.exports=a(171)},73:function(e,t,a){},78:function(e,t){}},[[68,1,2]]]);
//# sourceMappingURL=main.cefc4b38.chunk.js.map