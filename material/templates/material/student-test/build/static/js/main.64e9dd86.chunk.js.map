{"version":3,"sources":["components/Body/css/Question.module.css","components/Top/css/UserBtn.module.css","components/Top/css/Top.module.css","components/Top/css/SocketStatus.module.css","components/Body/css/Initial.module.css","components/Body/css/Main.module.css","components/Body/css/Sidebar.module.css","components/Body/css/QuestionsBtns.module.css","components/Top/css/Notification.module.css","components/Top/Nav.js","components/Top/UserBtn.js","components/Top/Notification.js","components/Top/SockerStatus.js","components/Top/Top.js","redux/actions/Profile.js","redux/reducers/Profile.js","redux/reducers/Test.js","redux/reducers/SocketState.js","redux/Store.js","redux/actions/SocketState.js","redux/actions/Test.js","components/Body/Choices.js","components/Body/Image.js","components/Body/Initial.js","components/Body/Question.js","components/Body/QuestionsBtns.js","components/Body/Timer.js","components/Body/Sidebar.js","components/Body/result.js","components/Message.js","SocketManager.js","components/Body/Main.js","App.js","index.js"],"names":["module","exports","Nav","props","className","id","styles","navCont","href","navLink","join","style","opacity","connect","state","profile","Profile","useState","userPannelVis","changeVis","userBtnCont","userBtn","onClick","ev","onBlur","setTimeout","src","undefined","name","window","media_url","fields","profile_pic","userBtnImg","alt","userPannel","display","Fragment","userData","username","email","userPannelLink","base","Notification","notifBtn","socketStatus","SocketState","status","disp","dot1","dot2","dot3","dispatch","updateProfile","data","type","payload","useEffect","fetch","credentials","cred","then","response","json","profileData","topBar","edu","location","assign","action","Test","active","questions","answer","includes","changed","map","question","index","marks","socket","questionBuffer","dataBuffer","isready","screen","snapsId","splice","length","Store","createStore","combineReducers","addToDataBuffer","updateActive","test","store","getState","AddToBuffer","updateAnswer","ans","Choices","resetAnswer","answerHandler","choicesCont","checked","this","choicesLabel","choices","fontSize","submitted","Component","jsonChoices","JSON","parse","image","Initial","btnSpinner","enterBtn","entry","title","desc","description","ref","el","setState","enter","stringify","click","class","value","onChange","event","res","target","for","details","testData","instructor","duration","getDerivedStateFromProps","m","forEach","qs","Question","check","questionMain","qno","qinfo","text","rightpannel","ansInp","readOnly","rows","cols","mark","QuestionsBtns","cls","btns","key","qBtnsCont","Timer","started","startTime","Date","getTime","left","passed","sec","Math","floor","minutes","submit","timer","Sidebar","componentDidMount","sendResult","console","log","clearInterval","marks_list","split","mk","a","max","toFixed","sidebarMain","sideHead","addBtn","pk","total","Message","document","getElementById","ReactDOM","unmountComponentAtNode","message","SocketManager","NewWebSocket","scheme","protocol","extractKey","ws","WebSocket","hostName","onopen","setSocket","onmessage","error","msg","updateTestData","TestData","socketConnected","updateTestDataForReconnected","dataBufferShift","savedQuestion","snaps","setInterval","snap","setSnapsId","onclose","disconnected","onerror","socketError","navigator","onLine","ononline","BufferManager","qstn","sendingData","send","canvas","takepicture","reader","FileReader","onload","result","imageByteArray","Uint8Array","imageArrayData","Array","from","toLocaleTimeString","replace","question_number","toBlob","blob","readAsArrayBuffer","render","Object","url","size","lastindexofSlash","lastIndexOf","slice","substring","Main","val","setScreenFunction","main","fullScreen","func","App","host","height","streaming","video","photo","snapbutton","clearphoto","context","getContext","fillStyle","fillRect","width","toDataURL","setAttribute","drawImage","addEventListener","mediaDevices","getUserMedia","audio","stream","srcObject","play","catch","err","videoHeight","videoWidth","isNaN","preventDefault"],"mappings":"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","file":"static/js/main.64e9dd86.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"questionMain\":\"Question_questionMain__1_rxd\",\"qno\":\"Question_qno__WrjZj\",\"qtext\":\"Question_qtext__Z1Mmf\",\"qinfo\":\"Question_qinfo__qsAMT\",\"rightpannel\":\"Question_rightpannel__2UY0F\",\"marksinp\":\"Question_marksinp__2Uhvn\",\"choicesCont\":\"Question_choicesCont__wBpp9\",\"choices\":\"Question_choices__lz6pm\",\"choicesLabel\":\"Question_choicesLabel__1Ls73\",\"ansInp\":\"Question_ansInp__egB3m\",\"desc\":\"Question_desc__2_tAt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navLink\":\"UserBtn_navLink__3C6qU\",\"userBtn\":\"UserBtn_userBtn__2502Q\",\"userBtnImg\":\"UserBtn_userBtnImg__1XDNf\",\"userPannel\":\"UserBtn_userPannel__SYTvw\",\"userPannelLink\":\"UserBtn_userPannelLink__squgZ\",\"userData\":\"UserBtn_userData__ZFyrl\",\"userBtnCont\":\"UserBtn_userBtnCont__1BfAU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"topBar\":\"Top_topBar__1M36g\",\"navLink\":\"Top_navLink__31pSM\",\"edu\":\"Top_edu__3lhuD\",\"navCont\":\"Top_navCont__2D-Nz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dot1\":\"SocketStatus_dot1__2gVtp\",\"dot1Anim\":\"SocketStatus_dot1Anim__2GG5M\",\"dot2\":\"SocketStatus_dot2__2ZiMM\",\"dot2Anim\":\"SocketStatus_dot2Anim__2b30V\",\"dot3\":\"SocketStatus_dot3__2aMyN\",\"dot3Anim\":\"SocketStatus_dot3Anim__3SIAx\",\"status\":\"SocketStatus_status__LHVNz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"entry\":\"Initial_entry__-bfNu\",\"desc\":\"Initial_desc__iz51X\",\"details\":\"Initial_details__2dAez\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Main_main__1oWsp\",\"fullScreen\":\"Main_fullScreen__2WUCL\",\"timer\":\"Main_timer__2qXw5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebarMain\":\"Sidebar_sidebarMain__3xpJL\",\"sideHead\":\"Sidebar_sideHead__3_rEt\",\"addBtn\":\"Sidebar_addBtn__17vBb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"qBtnsCont\":\"QuestionsBtns_qBtnsCont__r19tx\",\"btns\":\"QuestionsBtns_btns__3JyHc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notifBtn\":\"Notification_notifBtn__U2Qxp\"};","import React from 'react';\nimport styles from './css/Top.module.css';\n\nfunction Nav(props) {\n\treturn (\n\t\t<div className=\"ml-4 pl-4\" id={styles.navCont}>\n\t\t\t<a href=\"/\" className={[ styles.navLink, 'ml-4 mr-4' ].join(' ')}>\n\t\t\t\tHome\n\t\t\t</a>\n\t\t\t<a href=\"#\" className={[ styles.navLink, 'ml-4 mr-4' ].join(' ')} style={{ opacity: '30%' }}>\n\t\t\t\tBlog\n\t\t\t</a>\n\t\t\t<a href=\"#\" className={[ styles.navLink, 'ml-4 mr-4' ].join(' ')} style={{ opacity: '30%' }}>\n\t\t\t\tContact\n\t\t\t</a>\n\t\t</div>\n\t);\n}\n\nexport default Nav;\n","import React, { useState } from 'react';\nimport styles from './css/UserBtn.module.css';\n\nimport { connect } from 'react-redux';\n\nfunction UserBtn(props) {\n\tconst [ userPannelVis, changeVis ] = useState('none');\n\treturn (\n\t\t<div className=\"ml-2\" id={styles.userBtnCont}>\n\t\t\t<button\n\t\t\t\tclassName=\"p-0\"\n\t\t\t\tid={styles.userBtn}\n\t\t\t\tonClick={(ev) => changeVis(userPannelVis === 'block' ? 'none' : 'block')}\n\t\t\t\tonBlur={(ev) => setTimeout(changeVis, 10, 'none')}\n\t\t\t>\n\t\t\t\t<img\n\t\t\t\t\tsrc={props.profile.name !== undefined ? window.media_url + props.profile.fields.profile_pic : ''}\n\t\t\t\t\tid={styles.userBtnImg}\n\t\t\t\t\talt=\"\"\n\t\t\t\t/>\n\t\t\t</button>\n\t\t\t<div\n\t\t\t\tonClick={(ev) => setTimeout(changeVis, 20, 'block')}\n\t\t\t\tid={styles.userPannel}\n\t\t\t\tclassName=\"p-2 pr-3 bg-white\"\n\t\t\t\tstyle={{ display: userPannelVis }}\n\t\t\t>\n\t\t\t\t{props.profile.name !== undefined ? (\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t<span className={styles.userData}>{props.profile.username}</span>\n\t\t\t\t\t\t<span className={[ styles.userData, 'text-secondary' ].join(' ')}>{props.profile.email}</span>\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t) : (\n\t\t\t\t\t''\n\t\t\t\t)}\n\t\t\t\t<hr className=\"m-0 mt-1\" />\n\t\t\t\t<a\n\t\t\t\t\thref=\"#\"\n\t\t\t\t\tclassName={[ styles.navLink, styles.userPannelLink, 'pb-0 mt-2 mb-1 mr-2 ml-1' ].join(' ')}\n\t\t\t\t\tstyle={{ opacity: '30%' }}\n\t\t\t\t>\n\t\t\t\t\tProfile\n\t\t\t\t</a>\n\t\t\t\t<a\n\t\t\t\t\thref={window.base + '/user/logout/'}\n\t\t\t\t\tclassName={[ styles.navLink, styles.userPannelLink, 'pb-0 mb-0 mr-2 ml-1' ].join(' ')}\n\t\t\t\t>\n\t\t\t\t\tLogout\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tprofile: state.Profile\n\t};\n};\n\nexport default connect(mapStateToProps)(UserBtn);\n","import React from 'react';\nimport styles from './css/Notification.module.css';\n\nfunction Notification(props) {\n\treturn (\n\t\t<div className=\"ml-auto mr-4\" style={{ opacity: '30%' }}>\n\t\t\t<button className=\"material-icons  btn\" id={styles.notifBtn}>\n\t\t\t\tnotifications\n\t\t\t</button>\n\t\t</div>\n\t);\n}\n\nexport default Notification;\n","import React from 'react';\nimport styles from './css/SocketStatus.module.css';\n\nimport { connect } from 'react-redux';\n\nfunction SocketStatus(props) {\n\tlet disp = 'default';\n\n\tswitch (props.socketStatus) {\n\t\tcase 'connecting':\n\t\tcase 'saving':\n\t\tcase 'reconnecting':\n\t\tcase 'fetching':\n\t\t\tdisp = (\n\t\t\t\t<h6 className=\"text-muted mb-0 pb-0\" id={styles.status}>\n\t\t\t\t\t{props.socketStatus}\n\t\t\t\t\t<span id={styles.dot1}>.</span>\n\t\t\t\t\t<span id={styles.dot2}>.</span>\n\t\t\t\t\t<span id={styles.dot3}>.</span>\n\t\t\t\t</h6>\n\t\t\t);\n\t\t\tbreak;\n\t\tcase 'saved':\n\t\t\tdisp = (\n\t\t\t\t<h6 className=\"text-muted\" id={styles.status}>\n\t\t\t\t\tAll previous changes saved\n\t\t\t\t</h6>\n\t\t\t);\n\t\t\tbreak;\n\t\tcase 'connected':\n\t\t\tdisp = (\n\t\t\t\t<h6 className=\"text-muted\" id={styles.status}>\n\t\t\t\t\tConnected\n\t\t\t\t</h6>\n\t\t\t);\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tdisp = (\n\t\t\t\t<h6 className=\"text-muted\" id={styles.status}>\n\t\t\t\t\t{props.socketStatus}\n\t\t\t\t</h6>\n\t\t\t);\n\t\t\tbreak;\n\t}\n\treturn <div className=\"ml-4 pb-0 mt-4\">{disp}</div>;\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tsocketStatus: state.SocketState.status\n\t};\n};\n\nexport default connect(mapStateToProps)(SocketStatus);\n","import React, { useEffect } from 'react';\nimport styles from './css/Top.module.css';\nimport Nav from './Nav.js';\nimport UserBtn from './UserBtn.js';\nimport Notiification from './Notification.js';\nimport SocketStatus from './SockerStatus.js';\n\nimport { connect } from 'react-redux';\nimport { updateProfile } from './../../redux/actions/Profile.js';\n\n// Entry point for the top bar\nfunction Top(props) {\n\t//Fetching the user profile data\n\tuseEffect(\n\t\t() => {\n\t\t\tfetch(window.base + '/user/api/profile/', { credentials: window.cred }) //fetching profile data\n\t\t\t\t.then((response) => response.json())\n\t\t\t\t.then((profileData) => props.updateProfile(profileData));\n\t\t},\n\t\t[ props ]\n\t);\n\treturn (\n\t\t<div id={styles.topBar} className=\"d-flex flex-row align-items-center col-12 pl-2  text-light\">\n\t\t\t<h1 className=\"display-3 ml-2 text-dark\" id={styles.edu} onClick={() => window.location.assign('/')}>\n\t\t\t\t<span>eduHub</span>\n\t\t\t</h1>\n\t\t\t{/* nav will not appear in the mobile view */}\n\t\t\t<Nav />\n\t\t\t<SocketStatus />\n\t\t\t<Notiification />\n\t\t\t<UserBtn />\n\t\t</div>\n\t);\n}\n\nconst mapStateToProps = null;\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tupdateProfile: (data) => dispatch(updateProfile(data))\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Top);\n","export function updateProfile(data) {\n\treturn {\n\t\ttype: 'updateProfile',\n\t\tpayload: data\n\t};\n}\n","const Profile = (state = {}, action) => {\n\tswitch (action.type) {\n\t\tcase 'updateProfile':\n\t\t\tstate = { ...action.payload };\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t}\n\treturn state;\n};\n\nexport default Profile;\n","const Test = (state = { active: -1, questions: [], fields: {} }, action) => {\n\tstate = { ...state };\n\tswitch (action.type) {\n\t\tcase 'updateTestData':\n\t\t\tstate = { ...action.payload };\n\t\t\tbreak;\n\n\t\tcase 'updateActive':\n\t\t\tstate.active = action.payload;\n\t\t\tif (state.active != -1) state.questions[state.active].state[0] = 1;\n\t\t\tbreak;\n\n\t\tcase 'updateActiveAnswer':\n\t\t\tstate.questions[state.active].answer = action.payload;\n\t\t\tstate.questions[state.active] = { ...state.questions[state.active] };\n\t\t\tif ([ 'F', 'D' ].includes(state.questions[state.active].fields.type)) {\n\t\t\t\tif (state.questions[state.active].answer == '') {\n\t\t\t\t\tstate.questions[state.active].state[1] = 0;\n\t\t\t\t} else {\n\t\t\t\t\tstate.questions[state.active].state[1] = 1;\n\t\t\t\t}\n\t\t\t} else if ([ 'O', 'M', 'ON', 'MP', 'MN', 'MNP' ].includes(state.questions[state.active].fields.type)) {\n\t\t\t\tif (state.questions[state.active].answer.join('') == '0000') {\n\t\t\t\t\tstate.questions[state.active].state[1] = 0;\n\t\t\t\t} else state.questions[state.active].state[1] = 1;\n\t\t\t}\n\t\t\tstate.questions[state.active].changed = 1; //raising the changed falg to 1 for sending the data over ws\n\t\t\tbreak;\n\t\tcase 'markForLater':\n\t\t\tstate.questions[state.active].state[2] = (state.questions[state.active].state[2] + 1) % 2;\n\t\t\tstate.questions[state.active].changed = 1; //raising the changed falg to 1 for sending the data over ws\n\t\t\tbreak;\n\t\tcase 'submitted': //used afetr submtting to update marks for each question\n\t\t\tstate.questions = state.questions.map((question, index) => {\n\t\t\t\treturn {\n\t\t\t\t\t...question,\n\t\t\t\t\tmarks: action.payload[index]\n\t\t\t\t};\n\t\t\t});\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tbreak;\n\t}\n\treturn state;\n};\n\nexport default Test;\n","const SocketState = (\n\tstate = {\n\t\tsocket: null,\n\t\tstatus: 'connecting',\n\t\tquestionBuffer: [],\n\t\tdataBuffer: [],\n\t\tisready: 0,\n\t\tscreen: null,\n\t\tsnapsId: null\n\t},\n\taction\n) => {\n\tstate = { ...state };\n\tswitch (action.type) {\n\t\tcase 'setSocket':\n\t\t\tstate.socket = action.payload;\n\t\t\tstate.status = 'fetching';\n\t\t\tbreak;\n\t\tcase 'connected':\n\t\t\tstate.status = 'connected';\n\t\t\tstate.isready = 1;\n\t\t\tbreak;\n\t\tcase 'disconnected':\n\t\t\tstate.status = 'disconnected';\n\t\t\tstate.isready = 0;\n\t\t\tbreak;\n\t\tcase 'addToQuestionBuffer':\n\t\t\tstate.questionBuffer = [ ...state.questionBuffer, action.payload ];\n\t\t\tbreak;\n\t\tcase 'sendingData':\n\t\t\tstate.isready = 0;\n\t\t\tstate.status = 'saving';\n\t\t\tbreak;\n\t\tcase 'addToDataBuffer':\n\t\t\tstate.dataBuffer = [ ...state.dataBuffer, action.payload ];\n\t\t\tbreak;\n\t\tcase 'savedQuestion':\n\t\t\tstate.questionBuffer = [ ...state.questionBuffer.splice(1) ];\n\t\t\tif (state.questionBuffer.length === 0 && state.dataBuffer.length === 0) state.status = 'saved';\n\t\t\tstate.isready = 1;\n\t\t\tbreak;\n\t\tcase 'dataBufferShift':\n\t\t\tstate.dataBuffer = [ ...state.dataBuffer.splice(1) ];\n\t\t\tstate.isready = 1;\n\t\t\tif (state.questionBuffer.length === 0 && state.dataBuffer.length === 0) state.status = 'saved';\n\t\t\tbreak;\n\t\tcase 'SocketError':\n\t\t\tstate.status = 'error';\n\t\t\tbreak;\n\t\tcase 'setScreenFunction':\n\t\t\tstate.screen = action.payload;\n\t\t\tbreak;\n\t\tcase 'setSnapsId':\n\t\t\tstate.snapsId = action.payload;\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tbreak;\n\t}\n\treturn state;\n};\n\nexport default SocketState;\n","import { createStore, combineReducers } from 'redux';\nimport Profile from './reducers/Profile.js';\nimport Test from './reducers/Test.js';\nimport SocketState from './reducers/SocketState.js';\n\nconst Store = createStore(combineReducers({ Profile, Test, SocketState }), {});\n\nexport default Store;\n","export function setSocket(ws) {\n\treturn {\n\t\ttype: 'setSocket',\n\t\tpayload: ws\n\t};\n}\n\nexport function connected() {\n\treturn {\n\t\ttype: 'connected',\n\t\tpayload: null\n\t};\n}\n\nexport function disconnected() {\n\treturn {\n\t\ttype: 'disconnected',\n\t\tpayload: null\n\t};\n}\n\nexport function addToQuestionBuffer(index) {\n\treturn {\n\t\ttype: 'addToQuestionBuffer',\n\t\tpayload: index\n\t};\n}\n\nexport function addToDataBuffer(data) {\n\treturn {\n\t\ttype: 'addToDataBuffer',\n\t\tpayload: data\n\t};\n}\n\nexport function sendingData() {\n\treturn {\n\t\ttype: 'sendingData',\n\t\tpayload: null\n\t};\n}\n\nexport function savedQuestion() {\n\t//is ready flag to 1 and  update socket status and shift the buffer array\n\treturn {\n\t\ttype: 'savedQuestion',\n\t\tpayload: null\n\t};\n}\n\nexport function dataBufferShift() {\n\t//is ready flag to 1 and  update socket status and shift the  data buffer\n\treturn {\n\t\ttype: 'dataBufferShift',\n\t\tpayload: null\n\t};\n}\n\nexport function socketError() {\n\treturn {\n\t\ttype: 'SocketError',\n\t\tpayload: null\n\t};\n}\n\nexport function setScreenFunction(func) {\n\treturn {\n\t\ttype: 'setScreenFunction',\n\t\tpayload: func\n\t};\n}\n\nexport function setSnapsId(id) {\n\treturn {\n\t\ttype: 'setSnapsId',\n\t\tpayload: id\n\t};\n}\n","import store from './../Store.js';\nimport { addToQuestionBuffer } from './SocketState.js';\n\nexport function updateTestData(data) {\n\tlet questions = data.questions.map((data) => {\n\t\tdata.answer = '';\n\t\tdata.state = [ 0, 0, 0 ]; //[0] is for visited at, [1] is for answered and [2] is for mared\n\t\tdata.changed = 0;\n\t\tif ([ 'O', 'M', 'ON', 'MP', 'MN', 'MNP' ].includes(data.fields.type)) data.answer = [ 0, 0, 0, 0 ];\n\t\treturn data;\n\t});\n\tdata['questions'] = Object.assign([], questions);\n\tdata['active'] = -1;\n\treturn {\n\t\ttype: 'updateTestData',\n\t\tpayload: data\n\t};\n}\n\nexport function updateTestDataForReconnected(data) {\n\tlet questions = data.questions.map((data) => {\n\t\tdata.changed = 0;\n\t\treturn data;\n\t});\n\tdata.questions = Object.assign([], questions);\n\tdata.active = -1;\n\treturn {\n\t\ttype: 'updateTestData',\n\t\tpayload: data\n\t};\n}\n\nexport function AddToBuffer() {\n\tlet test = store.getState().Test;\n\tif (test.active !== -1) {\n\t\tif (test.questions[test.active].changed === 1) {\n\t\t\tstore.dispatch(addToQuestionBuffer(test.active));\n\t\t\treturn;\n\t\t}\n\t}\n}\n\nexport function updateActive(index) {\n\tAddToBuffer();\n\treturn {\n\t\ttype: 'updateActive',\n\t\tpayload: index\n\t};\n}\n\nexport function updateAnswer(ans) {\n\treturn {\n\t\ttype: 'updateActiveAnswer',\n\t\tpayload: ans\n\t};\n}\n\nexport function markForLater() {\n\treturn {\n\t\ttype: 'markForLater',\n\t\tpayload: null\n\t};\n}\n\nexport function submitted(marks) {\n\treturn {\n\t\ttype: 'submitted',\n\t\tpayload: marks\n\t};\n}\n","import React, { Component } from 'react';\nimport styles from './css/Question.module.css';\n\nimport { connect } from 'react-redux';\nimport { updateAnswer } from './../../redux/actions/Test.js';\n\nclass Choices extends Component {\n\tresetAnswer = (ev) => {\n\t\t//To reset answer\n\t\tthis.props.updateAnswer([ 0, 0, 0, 0 ]);\n\t};\n\n\tanswerHandler = (ev, index) => {\n\t\tlet ans = this.props.question.answer;\n\t\tif (this.props.question.fields.type[0] === 'O') {\n\t\t\tans = [ 0, 0, 0, 0 ];\n\t\t\tans[index - 1] = 1;\n\t\t} else {\n\t\t\tans[index - 1] = (ans[index - 1] + 1) % 2;\n\t\t}\n\t\tthis.props.updateAnswer(ans);\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div className={[ 'p-0 d-flex w-100', styles.choicesCont ].join(' ')}>\n\t\t\t\t\t<div className={[ 'p-0 d-flex w-100 align-items-baseline', styles.choicesCont ].join(' ')}>\n\t\t\t\t\t\t<div className=\"form-check mt-4 ml-4 pl-4\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\tonClick={(ev) => this.answerHandler(ev, 1)}\n\t\t\t\t\t\t\t\tchecked={this.props.question.answer[0] == 1}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<label className={[ 'form-check-label', styles.choicesLabel ].join(' ')}>\n\t\t\t\t\t\t\t\t{this.props.choices[0] !== undefined ? this.props.choices[0] : ''}\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={[ 'p-0 d-flex w-100 align-items-baseline', styles.choicesCont ].join(' ')}>\n\t\t\t\t\t\t<div className=\"form-check mt-4 ml-4 pl-4\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\tonClick={(ev) => this.answerHandler(ev, 2)}\n\t\t\t\t\t\t\t\tchecked={this.props.question.answer[1] == 1}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<label className={[ 'form-check-label', styles.choicesLabel ].join(' ')}>\n\t\t\t\t\t\t\t\t{this.props.choices[1] !== undefined ? this.props.choices[1] : ''}\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className={[ 'p-0 d-flex w-100', styles.choicesCont ].join(' ')}>\n\t\t\t\t\t<div className={[ 'p-0 d-flex w-100 align-items-baseline', styles.choicesCont ].join(' ')}>\n\t\t\t\t\t\t<div className=\"form-check mt-4 ml-4 pl-4\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\tonClick={(ev) => this.answerHandler(ev, 3)}\n\t\t\t\t\t\t\t\tchecked={this.props.question.answer[2] == 1}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<label className={[ 'form-check-label', styles.choicesLabel ].join(' ')}>\n\t\t\t\t\t\t\t\t{this.props.choices[2] !== undefined ? this.props.choices[2] : ''}\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={[ 'p-0 d-flex w-100 align-items-baseline', styles.choicesCont ].join(' ')}>\n\t\t\t\t\t\t<div className=\"form-check mt-4 ml-4 pl-4\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName=\"form-check-input\"\n\t\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\t\tonClick={(ev) => this.answerHandler(ev, 4)}\n\t\t\t\t\t\t\t\tchecked={this.props.question.answer[3] == 1}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<label className={[ 'form-check-label', styles.choicesLabel ].join(' ')}>\n\t\t\t\t\t\t\t\t{this.props.choices[0] !== undefined ? this.props.choices[3] : ''}\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"btn btn-danger ml-4 mt-2 p-1\"\n\t\t\t\t\tstyle={{ fontSize: 'x-small', display: this.props.submitted ? 'none' : '' }}\n\t\t\t\t\tonClick={this.resetAnswer}\n\t\t\t\t>\n\t\t\t\t\treset\n\t\t\t\t</button>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tactive: state.Test.active,\n\t\tchoices:\n\t\t\tstate.Test.questions[state.Test.active].fields.jsonChoices !== ''\n\t\t\t\t? JSON.parse(state.Test.questions[state.Test.active].fields.jsonChoices)\n\t\t\t\t: [],\n\t\tquestion: state.Test.questions[state.Test.active]\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tupdateAnswer: (ans) => dispatch(updateAnswer(ans))\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Choices);\n","import React from 'react';\n\nimport { connect } from 'react-redux';\n\nfunction Image(props) {\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<img\n\t\t\t\tclassName={[ 'm-2 ml-4 pl-4 w-50' ].join(' ')}\n\t\t\t\talt=\"not found\"\n\t\t\t\tstyle={{\n\t\t\t\t\tdisplay: props.question.fields.image === '' ? 'none' : 'inline-block'\n\t\t\t\t}}\n\t\t\t\tsrc={props.question.fields.image === '' ? '#' : window.media_url + props.question.fields.image}\n\t\t\t/>\n\t\t</React.Fragment>\n\t);\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tactive: state.Test.active,\n\t\tquestion: state.Test.questions[state.Test.active]\n\t};\n};\n\nexport default connect(mapStateToProps)(Image);\n","import React, { Component } from 'react';\nimport styles from './css/Initial.module.css';\n\nimport { connect } from 'react-redux';\nimport { addToDataBuffer } from './../../redux/actions/SocketState.js';\n\nclass Initial extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tmarks: 0, //For storing total marks\n\t\t\tbtnSpinner: 'none'\n\t\t};\n\t\tthis.enterBtn = null;\n\t}\n\n\tstatic getDerivedStateFromProps = (props, state) => {\n\t\tlet m = 0; //Calculating total marks\n\t\tprops.questions.forEach((qs) => {\n\t\t\tm += qs.fields.marks;\n\t\t});\n\t\treturn {\n\t\t\tmarks: m\n\t\t};\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div id={styles.entry} className=\"p-2 bg-light\">\n\t\t\t\t<h1 className=\"text-center\">{this.props.title}</h1>\n\t\t\t\t<p className=\"text-center\" id={styles.desc}>\n\t\t\t\t\t{this.props.description}\n\t\t\t\t</p>\n\t\t\t\t<button\n\t\t\t\t\tref={(el) => (this.enterBtn = el)}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tthis.setState({ btnSpinner: '' });\n\t\t\t\t\t\tif ([ 'connected', 'saving', 'saved' ].includes(this.props.socketStatus)) {\n\t\t\t\t\t\t\tthis.props.enter(1);\n\t\t\t\t\t\t\tthis.props.addToDataBuffer(JSON.stringify({ type: 'enter' }));\n\t\t\t\t\t\t\t// document.body.requestFullscreen();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t//To click the button every 2 seconds till the data is not fetched\n\t\t\t\t\t\t\t\tthis.enterBtn.click();\n\t\t\t\t\t\t\t}, 5000);\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\tclassName=\"btn btn-success m-4 pl-4 pr-4 m-auto\"\n\t\t\t\t\tstyle={{ display: this.props.display }}\n\t\t\t\t>\n\t\t\t\t\tEnter\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName=\"ml-2 spinner-border spinner-border-sm\"\n\t\t\t\t\t\tstyle={{ display: this.state.btnSpinner }}\n\t\t\t\t\t/>\n\t\t\t\t</button>\n\t\t\t\t<div class=\"custom-control custom-switch m-4\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tclass=\"custom-control-input\"\n\t\t\t\t\t\tid=\"customSwitch1\"\n\t\t\t\t\t\tvalue=\"fer\"\n\t\t\t\t\t\tonChange={(event) => {\n\t\t\t\t\t\t\tlet res = null;\n\t\t\t\t\t\t\tif (event.target.checked) {\n\t\t\t\t\t\t\t\tres = { type: 'initilizeFER' };\n\t\t\t\t\t\t\t\tthis.props.addToDataBuffer(JSON.stringify(res));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tres = { type: 'closeFER' };\n\t\t\t\t\t\t\t\tthis.props.addToDataBuffer(JSON.stringify(res));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<label class=\"custom-control-label\" for=\"customSwitch1\">\n\t\t\t\t\t\tExpression Analyser\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"mt-4\" id={styles.details}>\n\t\t\t\t\t<span>Total Marks: {this.state.marks}</span>\n\t\t\t\t\t<br />\n\t\t\t\t\t<span>Instructor: {this.props.testData.instructor}</span>\n\t\t\t\t\t<br />\n\t\t\t\t\t{this.props.testData.duration == -1 ? (\n\t\t\t\t\t\t''\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<span>Time:{this.props.testData.duration} minutes </span>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"ml-1 pt-4\">\n\t\t\t\t\t<ul className=\"float-left mt-4\">\n\t\t\t\t\t\t<li>D : Descriptive</li>\n\t\t\t\t\t\t<li>F : Fill</li>\n\t\t\t\t\t\t<li> O : One Option Correct </li>\n\t\t\t\t\t\t<li>ON : One Option Correct(Negative Marking) </li>\n\t\t\t\t\t\t<li>M : Multu Option Correct</li>\n\t\t\t\t\t\t<li>MP : Multu Option Correct(Partially correct)</li>\n\t\t\t\t\t\t<li> MN : Multu Option Correct(Negative Marking) </li>\n\t\t\t\t\t\t<li>MPN : Multu Option Correct(Patrially correct and Neative marking)</li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t<div className=\"float-left ml-4 pl-4 mt-3\">\n\t\t\t\t\t\t<button className=\"btn btn-dark mr-4\" />\n\t\t\t\t\t\t<label className=\"mt-4\">Unvisited</label>\n\t\t\t\t\t\t<br />\n\n\t\t\t\t\t\t<button className=\"btn btn-danger mr-4\" />\n\t\t\t\t\t\t<label>Unanswered</label>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<button className=\"btn btn-warning mr-4\" />\n\t\t\t\t\t\t<label>Marked For Later</label>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<button className=\"btn btn-info mr-4\" />\n\t\t\t\t\t\t<label>Answered and Marked</label>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<button className=\"btn btn-success mr-4\" />\n\t\t\t\t\t\t<label>Answered</label>\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li className=\"text-danger mt-1\">\n\t\t\t\t\t\t\t\t<p className=\"mt-4\">Do not refresh the page during the test</p>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\ttitle: state.Test.fields ? state.Test.fields.title : '',\n\t\tdescription: state.Test.fields ? state.Test.fields.description : '',\n\t\tquestions: state.Test.questions,\n\t\ttestData: state.Test.fields,\n\t\tsocketStatus: state.SocketState.status,\n\t\tsnapsId: state.SocketState.snapsId\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\taddToDataBuffer: (data) => dispatch(addToDataBuffer(data))\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Initial);\n","import React, { Component } from 'react';\nimport styles from './css/Question.module.css';\nimport Choices from './Choices.js';\nimport Image from './Image.js';\nimport Initial from './Initial.js';\n\nimport { connect } from 'react-redux';\nimport { updateAnswer, markForLater } from './../../redux/actions/Test.js';\n\nclass Question extends Component {\n\tcheck = () => {\n\t\t// check given marks and total marks and tag the question accordingly\n\t\tlet res = '';\n\t\tif (this.props.submitted && this.props.question.fields.type !== 'D') {\n\t\t\tif (this.props.question.marks === this.props.question.fields.marks)\n\t\t\t\tres = <h6 className=\"text-success ml-4 mt-4 pl-1\">Correct</h6>;\n\t\t\telse if (this.props.question.marks !== 0)\n\t\t\t\tres = <h6 className=\"text-warning ml-4 mt-4 pl-1\">Partially Correct</h6>;\n\t\t\telse res = <h6 className=\"text-danger ml-4 mt-4 pl-1\">Wrong</h6>;\n\t\t}\n\t\treturn res;\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div id={styles.questionMain} className=\"p-1 m-1 flex-grow-1 bg-light\">\n\t\t\t\t{this.props.question === undefined || this.props.active === -1 ? (\n\t\t\t\t\t<Initial display=\"none\" />\n\t\t\t\t) : (\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t<div className=\"d-flex flex-row align-items-top\">\n\t\t\t\t\t\t\t<h2 className={[ 'd-inline mr-0 mr-2', styles.qno ].join(' ')}>\n\t\t\t\t\t\t\t\tQ.{this.props.active + 1}\n\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t<h5 className={[ 'mt-3 mr-0 pr-0 ml-1', styles.qinfo ].join(' ')}>\n\t\t\t\t\t\t\t\t{this.props.question.fields.text}\n\t\t\t\t\t\t\t</h5>\n\t\t\t\t\t\t\t<div className={[ styles.rightpannel, 'ml-auto mr-3 mt-2' ].join(' ')}>\n\t\t\t\t\t\t\t\t<h6>{this.props.question.fields.marks}</h6>\n\t\t\t\t\t\t\t\t<h6>{this.props.question.fields.type}</h6>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<Image />\n\t\t\t\t\t\t<br />\n\n\t\t\t\t\t\t{this.props.question.fields.type === 'O' ||\n\t\t\t\t\t\tthis.props.question.fields.type === 'M' ||\n\t\t\t\t\t\tthis.props.question.fields.type === 'ON' ||\n\t\t\t\t\t\tthis.props.question.fields.type === 'MP' ||\n\t\t\t\t\t\tthis.props.question.fields.type === 'MN' ||\n\t\t\t\t\t\tthis.props.question.fields.type === 'MPN' ? (\n\t\t\t\t\t\t\t<Choices type={this.props.question.fields.type} submitted={this.props.submitted} />\n\t\t\t\t\t\t) : this.props.question.fields.type !== 'D' ? (\n\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t<label className=\"ml-4 pl-4 mt-4\">Answer:</label>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName={[ 'ml-4 pl-4 form-control w-50', styles.ansInp ].join(' ')}\n\t\t\t\t\t\t\t\t\tstyle={{ display: 'inline' }}\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tname=\"answer\"\n\t\t\t\t\t\t\t\t\tvalue={this.props.question.answer}\n\t\t\t\t\t\t\t\t\tonChange={(ev) => this.props.updateAnswer(ev.target.value)}\n\t\t\t\t\t\t\t\t\treadOnly={this.props.submitted}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div className=\"d-flex align-items-strech flex-column pr-4 mr-4 ml-4\">\n\t\t\t\t\t\t\t\t<label className=\"mt-4\">Answer:</label>\n\t\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\t\tclassName={[ 'pl-4 form-control mb-4' ].join(' ')}\n\t\t\t\t\t\t\t\t\tstyle={{ display: 'inline' }}\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tname=\"answer\"\n\t\t\t\t\t\t\t\t\trows=\"8\"\n\t\t\t\t\t\t\t\t\tcols=\"20\"\n\t\t\t\t\t\t\t\t\tvalue={this.props.question.answer}\n\t\t\t\t\t\t\t\t\tonChange={(ev) => this.props.updateAnswer(ev.target.value)}\n\t\t\t\t\t\t\t\t\treadOnly={this.props.submitted}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{this.check()}\n\t\t\t\t\t\t<br />\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"float-right btn btn-info mt-2\"\n\t\t\t\t\t\t\tstyle={{ display: this.props.submitted ? 'none' : 'block' }}\n\t\t\t\t\t\t\tonClick={this.props.mark}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tMark for later\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tactive: state.Test.active,\n\t\tquestion: state.Test.questions[state.Test.active],\n\t\ttest: state.Test\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tupdateAnswer: (ans) => dispatch(updateAnswer(ans)),\n\t\tmark: () => dispatch(markForLater())\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Question);\n","import React, { Component } from 'react';\nimport styles from './css/QuestionsBtns.module.css';\n\nimport { connect } from 'react-redux';\nimport { updateActive } from './../../redux/actions/Test.js';\n\nclass QuestionsBtns extends Component {\n\trender() {\n\t\tlet questions = '';\n\t\t//mapping question buttons from all the available question in redux state\n\t\tquestions = this.props.questions.map((data, index) => {\n\t\t\tlet state = data.state.join('');\n\t\t\tlet cls = '';\n\t\t\tswitch (state) {\n\t\t\t\tcase '100':\n\t\t\t\t\tcls = 'btn-danger'; //if not answered\n\t\t\t\t\tbreak;\n\t\t\t\tcase '010':\n\t\t\t\tcase '110':\n\t\t\t\t\tcls = 'btn-success'; //if answered\n\t\t\t\t\tbreak;\n\t\t\t\tcase '001':\n\t\t\t\tcase '101':\n\t\t\t\t\tcls = 'btn-warning'; //if marked for later\n\t\t\t\t\tbreak;\n\t\t\t\tcase '011':\n\t\t\t\tcase '111':\n\t\t\t\t\tcls = 'btn-info'; //if answered and marked for later\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tcls = 'btn-dark'; //if unvisited\n\t\t\t}\n\t\t\tif (index === this.props.active) cls = 'btn-primary'; //if active\n\t\t\treturn (\n\t\t\t\t<button\n\t\t\t\t\tclassName={[ 'btn m-2', styles.btns, cls ].join(' ')}\n\t\t\t\t\tkey={index}\n\t\t\t\t\tonClick={() => this.props.updateActive(index)}\n\t\t\t\t\t//update active questin on change also push to buffer for sending to backend i there is any change se the corrosponding action in redux/action/Top.js\n\t\t\t\t\tactive={index === this.props.active}\n\t\t\t\t>\n\t\t\t\t\t{index + 1}\n\t\t\t\t</button>\n\t\t\t);\n\t\t});\n\t\treturn (\n\t\t\t<div id={styles.qBtnsCont}>\n\t\t\t\t<button\n\t\t\t\t\tclassName={[\n\t\t\t\t\t\t'btn m-2 form-control w-25',\n\t\t\t\t\t\tstyles.btns,\n\t\t\t\t\t\t-1 === this.props.active ? 'btn-primary' : 'btn-dark'\n\t\t\t\t\t].join(' ')}\n\t\t\t\t\tonClick={() => this.props.updateActive(-1)}\n\t\t\t\t\t//update active questin to test data also push to buffer for sending to backend i there is any change se the corrosponding action in redux/action/Top.js\n\t\t\t\t\tactive={-1 === this.props.active}\n\t\t\t\t>\n\t\t\t\t\tTest\n\t\t\t\t</button>{' '}\n\t\t\t\t{questions}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tactive: state.Test.active,\n\t\tquestions: state.Test.questions\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tupdateActive: (index) => dispatch(updateActive(index))\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(QuestionsBtns);\n","import React, { Component } from 'react';\nimport styles from './css/Main.module.css';\n\nimport { connect } from 'react-redux';\n\nclass Timer extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tstarted: props.startTime ? new Date(props.startTime).getTime() : new Date().getTime(),\n\t\t\tleft: props.duration * 60 * 1000,\n\t\t\tduration: props.duration * 60 * 1000\n\t\t};\n\t}\n\n\trender() {\n\t\tlet passed = new Date().getTime() - this.state.started;\n\t\tlet sec = Math.floor(this.state.left / 1000);\n\t\tlet minutes = Math.floor(sec / 60);\n\t\tsec = sec % 60;\n\t\tif (this.state.left > 0) setTimeout(() => this.setState({ left: this.state.duration - passed }), 1000);\n\t\telse this.props.submit.click();\n\t\treturn (\n\t\t\t<h5 id={styles.timer}>\n\t\t\t\tTime: {minutes} : {sec}\n\t\t\t</h5>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tstartTime: state.Test.startTime\n\t};\n};\n\nexport default connect(mapStateToProps)(Timer);\n","import React, { Component } from 'react';\nimport styles from './css/Sidebar.module.css';\nimport Question from './Question.js';\nimport QuestionsBtns from './QuestionsBtns.js';\nimport Timer from './Timer.js';\n\nimport { connect } from 'react-redux';\nimport { addToDataBuffer } from './../../redux/actions/SocketState.js';\n\n//Side bar or the container of the question buttons also the entry point for the qustion body\nclass Sidebar extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\ttimer: '', //For rendering timer component , see component did mount , in component did mount because we neew to pass the reference to teh submit button after its mounted\n\t\t\tbtnSpinner: 'none'\n\t\t};\n\n\t\tthis.submit = null; //reference to submit button\n\t}\n\n\tcomponentDidMount = () => {\n\t\t//Stores time component fot cowndown and rendering in UI\n\t\tif (this.props.testData.duration != -1 && !this.props.submitted)\n\t\t\tthis.setState({ timer: <Timer duration={this.props.testData.duration} submit={this.submit} /> }); //Timer does cowndown for given duation in minutes and automatically submits after the times ends\n\t};\n\n\tsendResult = () => {\n\t\t//Calculate marks and send result\n\t\tthis.setState({ btnSpinner: '' });\n\t\tif (this.props.submitted === 1) {\n\t\t\tthis.props.enter(2);\n\t\t} else {\n\t\t\tconsole.log('snap id : ', this.props.snapsId);\n\t\t\tif (this.props.snapsId) clearInterval(this.props.snapsId);\n\t\t\tlet marks_list = [];\n\t\t\tthis.props.questions.forEach((data, index) => {\n\t\t\t\tlet m = 0;\n\t\t\t\tswitch (data.fields.type) {\n\t\t\t\t\tcase 'F':\n\t\t\t\t\t\tif (data.answer === data.fields.answer) m = data.fields.marks;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'M':\n\t\t\t\t\tcase 'O':\n\t\t\t\t\tcase 'ON':\n\t\t\t\t\tcase 'MN':\n\t\t\t\t\t\tif (data.answer.join('') === data.fields.answer) {\n\t\t\t\t\t\t\tm = data.fields.marks;\n\t\t\t\t\t\t} else if (data.fields.type === 'MN' || data.fields.type === 'ON') m = -1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'MP':\n\t\t\t\t\tcase 'MNP':\n\t\t\t\t\t\tlet ans = data.fields.answer.split('');\n\t\t\t\t\t\tlet res = data.answer.join('');\n\t\t\t\t\t\tlet mk = [ 0, 0, 0 ];\n\t\t\t\t\t\tans.forEach((a, index) => {\n\t\t\t\t\t\t\tif (a === '1') {\n\t\t\t\t\t\t\t\tmk[1] += 1;\n\t\t\t\t\t\t\t\tif (res[index] === '1') mk[0] += 1;\n\t\t\t\t\t\t\t} else if (a !== res[index]) mk[2] = 1;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (mk[2] === 1) m = data.fields.type === 'MNP' ? -1 : 0;\n\t\t\t\t\t\telse m = mk[0] / Math.max(1, mk[1]) * data.fields.marks;\n\t\t\t\t\t\tm.toFixed(2);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tmarks_list = [ ...marks_list, m ];\n\t\t\t});\n\t\t\tlet res = { type: 'submit', marks: marks_list };\n\t\t\tthis.props.addToDataBuffer(JSON.stringify(res));\n\t\t}\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div id={styles.sidebarMain} className=\"p-1 bg-secondary\">\n\t\t\t\t\t<h1 className=\"display-4 bg-info text-light pl-2\" id={styles.sideHead}>\n\t\t\t\t\t\tQuestions\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tid={styles.addBtn}\n\t\t\t\t\t\t\tclassName=\"btn btn-dark\"\n\t\t\t\t\t\t\tref={(el) => (this.submit = el)}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tthis.sendResult();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{this.props.submitted ? 'Result' : 'Submit'}\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclassName=\"ml-1 spinner-border spinner-border-sm\"\n\t\t\t\t\t\t\t\tstyle={{ display: this.state.btnSpinner }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</h1>\n\n\t\t\t\t\t{/* Container of all the qustion numbers as buttons to navigate */}\n\t\t\t\t\t<QuestionsBtns />\n\t\t\t\t\t{this.state.timer}\n\t\t\t\t</div>\n\t\t\t\t{/* Container of the Question body */}\n\t\t\t\t<Question submitted={this.props.submitted} />\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tpk: state.Test.pk,\n\t\ttestData: state.Test.fields,\n\t\tquestions: state.Test.questions,\n\t\tsnapsId: state.SocketState.snapsId\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\taddToDataBuffer: (data) => dispatch(addToDataBuffer(data))\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Sidebar);\n","import React, { useState } from 'react';\nimport styles from './css/Initial.module.css';\n\nimport { connect } from 'react-redux';\n\nfunction Result(props) {\n\tlet total = 0;\n\tlet marks = 0;\n\tprops.questions.forEach((data, index) => {\n\t\ttotal += data.fields.marks;\n\t\tmarks += data.marks;\n\t});\n\n\treturn (\n\t\t<div id={styles.entry} className=\"p-4 bg-light m-4 text-center\">\n\t\t\t<h1 className=\"display-3\">Results</h1>\n\t\t\t<h1 className=\"display-2\">\n\t\t\t\t{marks}/{total}\n\t\t\t</h1>\n\t\t\t<button className=\"btn btn-primary\" onClick={() => props.enter(3)}>\n\t\t\t\tcheck answers\n\t\t\t</button>\n\t\t</div>\n\t);\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tquestions: state.Test.questions,\n\t\ttest: state.Test\n\t};\n};\n\nexport default connect(mapStateToProps)(Result);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nfunction Message(props) {\n\tsetTimeout(() => {\n\t\tlet el = document.getElementById('message');\n\t\tReactDOM.unmountComponentAtNode(el);\n\t\tel.style.display = 'none';\n\t}, 10000);\n\treturn <React.Fragment>{props.message}</React.Fragment>;\n}\n\nexport default Message;\n","import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport Message from './components/Message.js';\nimport { takepicture } from './index.js';\n\nimport store from './redux/Store.js';\nimport { connect } from 'react-redux';\nimport {\n\tsetSocket,\n\tconnected,\n\tdisconnected,\n\tsendingData,\n\tsavedQuestion,\n\tdataBufferShift,\n\tsocketError,\n\taddToDataBuffer,\n\tsetSnapsId\n} from './redux/actions/SocketState.js';\nimport { updateTestData, updateTestDataForReconnected, submitted } from './redux/actions/Test.js';\n\nclass SocketManager extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.ws = null;\n\t\tthis.error = 0;\n\t}\n\n\tNewWebSocket = () => {\n\t\tlet p = window.location.protocol;\n\t\tlet scheme = 'wss://';\n\t\tif (p == 'http:') scheme = 'ws://'; // adjusting for ws and wss\n\t\tlet key = extractKey();\n\t\tthis.ws = new WebSocket(scheme + window.hostName + '/ws/material/student-test/' + key + '/');\n\t\t//When the socket wil open tis method will will send the socket to redux ScketState and initilize the backend will the test\n\t\tthis.ws.onopen = () => {\n\t\t\tthis.props.setSocket(this.ws);\n\t\t};\n\t\tthis.ws.onmessage = (ev) => {\n\t\t\tthis.error = 0;\n\t\t\tlet msg = JSON.parse(ev.data);\n\t\t\tswitch (msg.type) {\n\t\t\t\tcase 'connected':\n\t\t\t\t\tthis.props.updateTestData(msg.TestData);\n\t\t\t\t\tthis.props.socketConnected();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'reconnected':\n\t\t\t\t\tthis.props.updateTestDataForReconnected(msg.TestData);\n\t\t\t\t\tthis.props.socketConnected();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'data_received':\n\t\t\t\t\tthis.props.dataBufferShift();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'question_received':\n\t\t\t\t\tthis.props.savedQuestion();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'submitted':\n\t\t\t\t\tthis.props.submitted(JSON.parse(this.props.dataBuffer[0]).marks);\n\t\t\t\t\tthis.props.screen(2);\n\t\t\t\t\tthis.props.dataBufferShift();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'fer_ready':\n\t\t\t\t\tthis.props.dataBufferShift();\n\t\t\t\t\tlet snaps = setInterval(this.snap, 3000);\n\t\t\t\t\tthis.props.setSnapsId(snaps);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t};\n\t\t// \t\t// if the socket closes thisfunction will to try to reconnect after 5 seconds\n\t\tthis.ws.onclose = (ev) => {\n\t\t\tif (this.error === 0) {\n\t\t\t\tthis.props.disconnected();\n\t\t\t\tsetTimeout(this.NewWebSocket, 5000);\n\t\t\t}\n\t\t};\n\t\t//if there is any error in connection this function will try to reconnect after 15 seconds\n\t\tthis.ws.onerror = (ev) => {\n\t\t\tthis.error += 1;\n\t\t\tif (this.error < 5) {\n\t\t\t\tthis.props.disconnected(); //Socket state to reconecting\n\t\t\t\tsetTimeout(this.NewWebSocket, 5000);\n\t\t\t} else {\n\t\t\t\tthis.props.socketError(); //Error msg for scoket state\n\t\t\t\tthis.error = 1; //To try for connection for 4 time also not 0 otherwise onclose will alsotrigerred and infinite loop will be trigered\n\t\t\t\tif (!navigator.onLine) {\n\t\t\t\t\twindow.ononline = () => {\n\t\t\t\t\t\t//to connect agan if internet is down and it connects again\n\t\t\t\t\t\tthis.props.disconnected();\n\t\t\t\t\t\tthis.NewWebSocket();\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t};\n\tcomponentDidMount = () => {\n\t\tthis.NewWebSocket();\n\t};\n\tBufferManager = () => {\n\t\tlet questions = store.getState().Test.questions;\n\t\tif (this.props.isready === 0) return;\n\t\tif (this.props.questionBuffer.length !== 0) {\n\t\t\tlet qstn = questions[this.props.questionBuffer[0]];\n\t\t\tlet [ answer, state ] = [ qstn.answer, qstn.state ];\n\t\t\tlet data = {\n\t\t\t\ttype: 'questionUpdate',\n\t\t\t\tindex: this.props.questionBuffer[0],\n\t\t\t\tpayload: { answer, state }\n\t\t\t};\n\t\t\tdata = JSON.stringify(data);\n\t\t\tthis.props.sendingData();\n\t\t\tthis.ws.send(data);\n\t\t} else if (this.props.dataBuffer.length !== 0) {\n\t\t\tlet data = this.props.dataBuffer[0];\n\t\t\tthis.props.sendingData();\n\t\t\tthis.ws.send(data);\n\t\t}\n\t};\n\tsnap = () => {\n\t\tlet canvas = takepicture();\n\t\tlet reader = new FileReader();\n\t\treader.onload = (event) => {\n\t\t\tlet data = event.target.result;\n\t\t\tlet imageByteArray = new Uint8Array(data);\n\t\t\tlet imageArrayData = Array.from(imageByteArray);\n\t\t\tlet res = {\n\t\t\t\ttype: 'ferimage',\n\t\t\t\tpayload: {\n\t\t\t\t\tname: new Date().toLocaleTimeString().replace(/:/g, '-') + '.png',\n\t\t\t\t\timage: imageArrayData,\n\t\t\t\t\tquestion_number: this.props.active + 1\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis.props.addToDataBuffer(JSON.stringify(res));\n\t\t};\n\t\tcanvas.toBlob((blob) => {\n\t\t\treader.readAsArrayBuffer(blob);\n\t\t});\n\t};\n\trender() {\n\t\tthis.BufferManager();\n\t\t// console.log('socket : ', this.props.socket);\n\t\tReactDOM.unmountComponentAtNode(document.getElementById('message'));\n\t\tReactDOM.render(<Message message={this.props.socket.status} />, document.getElementById('message'));\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<button onClick={this.snap}>snap</button>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tactive: state.Test.active,\n\t\tsocket: state.SocketState,\n\t\tdataBuffer: state.SocketState.dataBuffer,\n\t\tquestionBuffer: state.SocketState.questionBuffer,\n\t\tisready: state.SocketState.isready,\n\t\tscreen: state.SocketState.screen\n\t};\n};\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tsetSocket: (ws) => dispatch(setSocket(ws)),\n\t\tsocketConnected: () => dispatch(connected()),\n\t\tupdateTestData: (data) => dispatch(updateTestData(data)),\n\t\tdisconnected: () => dispatch(disconnected()),\n\t\tupdateTestDataForReconnected: (data) => dispatch(updateTestDataForReconnected(data)),\n\t\tsendingData: () => dispatch(sendingData()),\n\t\tsavedQuestion: () => dispatch(savedQuestion()),\n\t\tdataBufferShift: () => dispatch(dataBufferShift()),\n\t\tsocketError: () => dispatch(socketError()),\n\t\tsubmitted: (marks) => dispatch(submitted(marks)),\n\t\taddToDataBuffer: (data) => dispatch(addToDataBuffer(data)),\n\t\tsetSnapsId: (id) => dispatch(setSnapsId(id))\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SocketManager);\n\nvar extractKey = () => {\n\t//extracts the pk form the url\n\tlet url = window.location.href;\n\tlet size = url.length;\n\tlet lastindexofSlash = url.lastIndexOf('/');\n\tif (lastindexofSlash === size - 1) {\n\t\turl = url.slice(0, -1);\n\t\tlastindexofSlash = url.lastIndexOf('/');\n\t}\n\treturn url.substring(lastindexofSlash + 1);\n};\n\nexport { extractKey };\n","import React, { Component } from 'react';\nimport styles from './css/Main.module.css';\nimport Sidebar from './Sidebar.js';\nimport Initial from './Initial.js';\nimport Result from './result.js';\nimport { extractKey } from './../../SocketManager.js';\n\nimport { connect } from 'react-redux';\nimport { setScreenFunction } from './../../redux/actions/SocketState.js';\n\n//Entry point for the main body\nclass Main extends Component {\n\t//fetching and saving the test data\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tenter: 0 //Determines what to render to the main body\n\t\t};\n\t\tthis.props.setScreenFunction(this.enter);\n\t}\n\t// fetchData = (key) => {\n\t// \t//fetches all the test data at once\n\t// \tfetch(window.base + '/material/api/test/data/' + key + '/', { credentials: window.cred })\n\t// \t\t.then((Response) => Response.json())\n\t// \t\t.then((data) => this.props.updateTestData(data))\n\t// \t\t.catch((error) => alert('Error fetching data: possible reasons unauthorised access aur connection issue '));\n\t// };\n\n\t//Fetching data after component has been mounted\n\t// componentDidMount = () => {\n\t//extracts key from url and fetchs all the test data at once\n\t// let key = extractKey();\n\t// this.fetchData(key);\n\t// };\n\n\tenter = (val) => {\n\t\t//to change the value of this.state.enter\n\t\tthis.setState({ enter: val });\n\t};\n\n\tscreen = () => {\n\t\tlet res;\n\t\tswitch (this.state.enter) {\n\t\t\tcase 0:\n\t\t\t\tres = <Initial enter={this.enter} display=\"block\" />; //the first screen to apear\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tres = <Sidebar enter={this.enter} submitted={0} />;\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tres = <Result enter={this.enter} />;\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tres = <Sidebar enter={this.enter} submitted={1} />;\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn res;\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tid={styles.main}\n\t\t\t\tclassName={\n\t\t\t\t\tthis.state.enter == 1 ? [ 'p-1 d-flex pt-2', styles.fullScreen ].join(' ') : 'p-1 d-flex pt-2'\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t{this.screen()}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = null;\n\nconst mapDispatchToProps = (dispatch) => {\n\treturn {\n\t\tsetScreenFunction: (func) => dispatch(setScreenFunction(func))\n\t};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Main);\n","import React from 'react';\nimport Top from './components/Top/Top.js';\nimport Main from './components/Body/Main.js';\n\nfunction App() {\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<Top /> <Main />\n\t\t</React.Fragment>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport Store from './redux/Store.js';\nimport { Provider } from 'react-redux';\nimport SocketManager from './SocketManager.js';\n\nwindow.base = '';\nwindow.hostName = window.location.host;\n// window.media_url = window.base + '/media/';\nwindow.media_url = 'https://eduhub.blob.core.windows.net/eduhub/';\nwindow.cred = 'same-origin';\n\nReactDOM.render(\n\t<Provider store={Store}>\n\t\t<App />\n\t\t<SocketManager />\n\t</Provider>,\n\tdocument.getElementById('root')\n);\n\n// var ws = new WebSocket('ws://' + window.host + '/ws/material/testMaker/');\n// export { ws };\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n\nvar takepicture;\n\n(function() {\n\t// The width and height of the captured photo. We will set the\n\t// width to the value defined here, but the height will be\n\t// calculated based on the aspect ratio of the input stream.\n\n\tvar width = 320; // We will scale the photo width to this\n\tvar height = 0; // This will be computed based on the input stream\n\n\t// |streaming| indicates whether or not we're currently streaming\n\t// video from the camera. Obviously, we start at false.\n\n\tvar streaming = false;\n\n\t// The various HTML elements we need to configure or control. These\n\t// will be set by the startup() function.\n\n\tvar video = null;\n\tvar canvas = null;\n\tvar photo = null;\n\tvar snapbutton = null;\n\n\tfunction startup() {\n\t\tvideo = document.getElementById('video');\n\t\tcanvas = document.getElementById('canvas');\n\t\tphoto = document.getElementById('photo');\n\t\tsnapbutton = document.getElementById('snapbutton');\n\n\t\tnavigator.mediaDevices\n\t\t\t.getUserMedia({ video: true, audio: false })\n\t\t\t.then(function(stream) {\n\t\t\t\tvideo.srcObject = stream;\n\t\t\t\tvideo.play();\n\t\t\t})\n\t\t\t.catch(function(err) {\n\t\t\t\tconsole.log('An error occurred: ' + err);\n\t\t\t});\n\n\t\tvideo.addEventListener(\n\t\t\t'canplay',\n\t\t\tfunction(ev) {\n\t\t\t\tif (!streaming) {\n\t\t\t\t\theight = video.videoHeight / (video.videoWidth / width);\n\n\t\t\t\t\t// Firefox currently has a bug where the height can't be read from\n\t\t\t\t\t// the video, so we will make assumptions if this happens.\n\n\t\t\t\t\tif (isNaN(height)) {\n\t\t\t\t\t\theight = width / (4 / 3);\n\t\t\t\t\t}\n\n\t\t\t\t\tvideo.setAttribute('width', width);\n\t\t\t\t\tvideo.setAttribute('height', height);\n\t\t\t\t\tcanvas.setAttribute('width', width);\n\t\t\t\t\tcanvas.setAttribute('height', height);\n\t\t\t\t\tstreaming = true;\n\t\t\t\t}\n\t\t\t},\n\t\t\tfalse\n\t\t);\n\n\t\tsnapbutton.addEventListener(\n\t\t\t'click',\n\t\t\tfunction(ev) {\n\t\t\t\ttakepicture();\n\t\t\t\tev.preventDefault();\n\t\t\t},\n\t\t\tfalse\n\t\t);\n\n\t\tclearphoto();\n\t}\n\n\t// Fill the photo with an indication that none has been\n\t// captured.\n\n\tfunction clearphoto() {\n\t\tvar context = canvas.getContext('2d');\n\t\tcontext.fillStyle = '#AAA';\n\t\tcontext.fillRect(0, 0, canvas.width, canvas.height);\n\n\t\tvar data = canvas.toDataURL('image/png');\n\t\tphoto.setAttribute('src', data);\n\t}\n\n\t// Capture a photo by fetching the current contents of the video\n\t// and drawing it into a canvas, then converting that to a PNG\n\t// format data URL. By drawing it on an offscreen canvas and then\n\t// drawing that to the screen, we can change its size and/or apply\n\t// other changes before drawing it.\n\n\ttakepicture = () => {\n\t\tvar context = canvas.getContext('2d');\n\t\tif (width && height) {\n\t\t\tcanvas.width = width;\n\t\t\tcanvas.height = height;\n\t\t\tcontext.drawImage(video, 0, 0, width, height);\n\n\t\t\tvar data = canvas.toDataURL('image/png');\n\t\t\tphoto.setAttribute('src', data);\n\n\t\t\t/*for (var value of form_data.values()) {\n     console.log(value); \n  }*/\n\n\t\t\t/*---     canvas.toBlob(function(blob){\n            var form_data = new FormData();\n        form_data.append('name','Aditya');\n        form_data.append('question_no','4');\n          \n          form_data.append('img',blob,'a.png');\n  \n          //console.log(form_data);\n  \n          for (var value of form_data.values()) {\n     console.log(value); \n  }\n  fetch('http://localhost:8000/saveImg',{\n          method : 'POST',\n          mode: 'no-cors',\n          body : form_data,\n        })      \n  \n  \n          \n        })        ----*/\n\n\t\t\t/* fetch('http://localhost:8000/temp',{\n          method : 'POST',\n          body : form_data,\n        })*/\n\t\t} else {\n\t\t\tclearphoto();\n\t\t}\n\n\t\treturn canvas;\n\t};\n\n\t// Set up our event listener to run the startup process\n\t// once loading is complete.\n\twindow.addEventListener('load', startup, false);\n})();\n\nexport { takepicture };\n"],"sourceRoot":""}